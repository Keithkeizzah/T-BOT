const { keith } = require('../commandHandler');
//========================================================================================================================
//========================================================================================================================
//========================================================================================================================
//========================================================================================================================
//========================================================================================================================
//========================================================================================================================
//========================================================================================================================
//========================================================================================================================
//========================================================================================================================
//========================================================================================================================
//========================================================================================================================
//========================================================================================================================
//========================================================================================================================
//========================================================================================================================
//
keith({
  pattern: "chunk",
  aliases: ["details", "det", "ret"],
  category: "utility",
  description: "Displays raw quoted message in JSON format",
  cooldown: 10
},

async (msg, bot, context) => {
  const { reply, messageReply } = context;

  if (!messageReply) {
    return await reply("❌ Please reply to a message to inspect it.");
  }

  try {
    const json = JSON.stringify(messageReply, null, 2);
    const chunks = json.match(/[\s\S]{1,4000}/g) || [];

    for (const chunk of chunks) {
      const formatted = "```json\n" + chunk + "\n```";
      await reply(formatted, { parse_mode: 'Markdown' });
    }

  } catch (err) {
    await reply("❌ Error inspecting message.");
  }
});
